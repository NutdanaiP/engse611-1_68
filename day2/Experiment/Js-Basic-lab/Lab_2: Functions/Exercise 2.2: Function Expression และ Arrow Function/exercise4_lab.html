<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 4: Function Types</title>
</head>
<body>
    <h1>Function Expression & Arrow Function</h1>
    
    <!-- ส่วนคำนวณทั่วไป --> 
    <div>
        <input type="number" id="num1" placeholder="num" value="">
        <input type="number" id="num2" placeholder="num" value="">
        <button onclick="calculateAll()">คำนวณทั้งหมด</button>
    </div>
    
    <div id="mathResult"></div>

    <script>
        // 1. Function Declaration (รูปแบบปกติ)
        function add(a, b) {
            return a + b;
        }

        // 2. Function Expression (กำหนดให้ตัวแปร)
        const subtract = function(a, b) {
            return a - b;
        };

        // 3. Arrow Function (รูปแบบใหม่ ES6)
        const multiply = (a, b) => {
            return a * b;
        };

        // 4. Arrow Function แบบสั้น (สำหรับ 1 บรรทัด)
        const divide = (a, b) => a / b;

        // 5. Arrow Function ไม่มี parameter
        const getRandomNumber = () => Math.floor(Math.random() * 100) + 1;

        // 6. Arrow Function มี parameter เดียว (ไม่ต้องใส่วงเล็บ)
        const square = x => x * x;

        // Array ของ Functions สำหรับคำนวณซับซ้อน
        const mathOperations = [
            { name: "บวก", func: add, symbol: "+" },
            { name: "ลบ", func: subtract, symbol: "-" },
            { name: "คูณ", func: multiply, symbol: "x" },
            { name: "หาร", func: divide, symbol: "÷" }
        ];

        function calculateAll() {
            const num1 = parseFloat(document.getElementById('num1').value);
            const num2 = parseFloat(document.getElementById('num2').value);
            
            let result = "<h3>ผลการคำนวณ:</h3>";
            
            // ใช้ forEach loop กับ Array ของ Functions
            mathOperations.forEach(operation => {
                const answer = operation.func(num1, num2);
                result += `<p>${num1} ${operation.symbol} ${num2} = ${answer}</p>`;
            });
            
            // เพิ่มการคำนวณพิเศษ
            result += `<h4>การคำนวณพิเศษ:</h4>`;
            result += `<p>กำลังสองของ ${num1} = ${square(num1)}</p>`;
            result += `<p>กำลังสองของ ${num2} = ${square(num2)}</p>`;
            result += `<p>เลขสุ่ม = ${getRandomNumber()}</p>`;
            
            document.getElementById('mathResult').innerHTML = result;
            
            // แสดงใน Console
            console.log("=== Calculator Results ===");
            console.log(`${num1} + ${num2} =`, add(num1, num2));
            console.log(`${num1} - ${num2} =`, subtract(num1, num2));
            console.log(`${num1} x ${num2} =`, multiply(num1, num2));
            console.log(`${num1} ÷ ${num2} =`, divide(num1, num2));
        }

        // ทดสอบ Functions
        console.log("=== Function Types Demo ===");
        console.log("Function Declaration:", add(5, 3));
        console.log("Function Expression:", subtract(5, 3));
        console.log("Arrow Function:", multiply(5, 3));
        console.log("Arrow Function (short):", divide(5, 3));
        console.log("Random Number:", getRandomNumber());
        console.log("Square of 7:", square(7));
    </script>

    <!-- ส่วนเพิ่มคำนวณพื้นที่ -->
    <hr>
    <h2>คำนวณพื้นที่</h2>
    <div>
        <input type="number" id="width" placeholder="ความกว้าง" value="">
        <input type="number" id="height" placeholder="ความยาว / ความสูง" value="">
        <input type="number" id="radius" placeholder="รัศมีวงกลม" value="">
        <button onclick="calculateArea()">คำนวณพื้นที่</button>
    </div>

    <div id="areaResult"></div>

    <script>
        // Arrow Function สำหรับคำนวณพื้นที่
        const areaRectangle = (w, h) => w * h;
        const areaTriangle = (base, height) => 0.5 * base * height;
        const areaCircle = r => Math.PI * r * r;

        function calculateArea() {
            const width = parseFloat(document.getElementById('width').value);
            const height = parseFloat(document.getElementById('height').value);
            const radius = parseFloat(document.getElementById('radius').value);

            let result = "<h3>ผลการคำนวณพื้นที่:</h3>";
            result += `<p>พื้นที่สี่เหลี่ยม (${width}x${height}) = ${areaRectangle(width, height)}</p>`;
            result += `<p>พื้นที่สามเหลี่ยม (ฐาน ${width}, สูง ${height}) = ${areaTriangle(width, height)}</p>`;
            result += `<p>พื้นที่วงกลม (รัศมี ${radius}) = ${areaCircle(radius).toFixed(2)}</p>`;

            document.getElementById('areaResult').innerHTML = result;

            // แสดงใน Console
            console.log("=== Calculator areaResult ===");
            console.log("พื้นที่สี่เหลี่ยม =", areaRectangle(width, height));
            console.log("พื้นที่สามเหลี่ยม =", areaTriangle(width, height));
            console.log("พื้นที่วงกลม =", areaCircle(radius).toFixed(2));
        }
    </script>
</body>
</html>
