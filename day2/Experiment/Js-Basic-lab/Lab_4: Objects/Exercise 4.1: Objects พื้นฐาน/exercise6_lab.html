<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 6: Objects</title>
</head>
<body>
    <h1>Object ‡∏ã‡πâ‡∏≠‡∏ô Object</h1>
    
    <div>
        <h3>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤:</h3>
        <input type="text" id="objName" placeholder="‡∏ä‡∏∑‡πà‡∏≠" value="">
        <input type="number" id="objAge" placeholder="‡∏≠‡∏≤‡∏¢‡∏∏" value="">
        <input type="text" id="objMajor" placeholder="‡∏™‡∏≤‡∏Ç‡∏≤" value="">
        <input type="number" id="objGPA" placeholder="GPA" value="" step="0.01" min="0" max="4">
        <br><br>
        <!-- ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà -->
        <input type="text" id="objProvince" placeholder="‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î" value="">
        <input type="text" id="objDistrict" placeholder="‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï" value="">
        <input type="text" id="objZipcode" placeholder="‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå" value="">
        <br><br>
        <!-- ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ -->
        <input type="text" id="objPhone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£" value="">
        <input type="email" id="objEmail" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" value="">
        <br><br>
        <button onclick="createStudent()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</button>
        <button onclick="showAllStudents()">‡πÅ‡∏™‡∏î‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        <button onclick="findTopStudent()">‡∏´‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏Å‡πà‡∏á</button>
    </div>
    
    <div id="objectResult"></div>

    <script>
        let allStudents = [];

        function createStudent() {
            const name = document.getElementById('objName').value;
            const age = parseInt(document.getElementById('objAge').value);
            const major = document.getElementById('objMajor').value;
            const gpa = parseFloat(document.getElementById('objGPA').value);

            // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
            const province = document.getElementById('objProvince').value;
            const district = document.getElementById('objDistrict').value;
            const zipcode = document.getElementById('objZipcode').value;

            // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
            const phone = document.getElementById('objPhone').value;
            const email = document.getElementById('objEmail').value;
            
            // Object ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô (Nested Object)
            const newStudent = {
                name: name,
                age: age,
                major: major,
                gpa: gpa,
                subjects: ["‡∏ß‡∏¥‡∏ä‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"],
                address: { 
                    province: province, 
                    district: district, 
                    zipcode: zipcode,
                    contact: { // Object ‡∏ã‡πâ‡∏≠‡∏ô‡∏≠‡∏µ‡∏Å‡∏ä‡∏±‡πâ‡∏ô
                        phone: phone , email: email
                    }
                },
                getFullInfo: function() {
                    return `${this.name} ‡∏≠‡∏≤‡∏¢‡∏∏ ${this.age} ‡∏õ‡∏µ ‡∏™‡∏≤‡∏Ç‡∏≤${this.major} GPA ${this.gpa}`;
                },
                getGradeStatus: function() {
                    if (this.gpa >= 3.5) return "‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å";
                    if (this.gpa >= 3.0) return "‡∏î‡∏µ";
                    if (this.gpa >= 2.5) return "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á";
                    return "‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°";
                },
                addSubject: function(subject) {
                    this.subjects.push(subject);
                }
            };
            
            allStudents.push(newStudent);
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
            let result = `
                <h3>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!</h3>
                <div style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                    <h4>${newStudent.name}</h4>
                    <p><strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤:</strong> ${newStudent.getFullInfo()}</p>
                    <p><strong>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</strong> ${newStudent.getGradeStatus()}</p>
                    <p><strong>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:</strong> ${newStudent.address.district}, ${newStudent.address.province} (${newStudent.address.zipcode})</p>
                    <p><strong>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</strong> ${newStudent.address.contact.phone}, ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: ${newStudent.address.contact.email}</p>
                    <p><strong>‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</strong> ${newStudent.subjects.join(", ")}</p>
                </div>
            `;
            
            document.getElementById('objectResult').innerHTML = result;
            
            console.log("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà:", newStudent);
            console.log("Object ‡∏ã‡πâ‡∏≠‡∏ô Object:", newStudent.address);
        }

        function showAllStudents() {
            let result = `<h3>‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (${allStudents.length} ‡∏Ñ‡∏ô):</h3>`;
            
            allStudents.forEach((student, index) => {
                result += `
                    <div style="background: #f9f9f9; padding: 10px; margin: 5px 0; border-radius: 5px;">
                        <strong>${index + 1}. ${student.getFullInfo()}</strong><br>
                        ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ${student.getGradeStatus()}<br>
                        ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${student.address.district}, ${student.address.province} ${student.address.zipcode}<br>
                        ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: ${student.address.contact.phone}, ${student.address.contact.email}<br>
                        ‡∏ß‡∏¥‡∏ä‡∏≤: ${student.subjects.join(", ")}
                    </div>
                `;
            });
            
            document.getElementById('objectResult').innerHTML = result;
        }

        function findTopStudent() {
            if (allStudents.length === 0) {
                document.getElementById('objectResult').innerHTML = "<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>";
                return;
            }
            let topStudent = allStudents.reduce((prev, current) => (prev.gpa > current.gpa) ? prev : current);
            let avg = allStudents.reduce((sum, s) => sum + s.gpa, 0) / allStudents.length;

            let result = `
                <h3>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏Å‡πà‡∏á:</h3>
                <div style="background: #fffacd; padding: 15px; border-radius: 8px;">
                    <h4>üèÜ ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏Å‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:</h4>
                    <p><strong>${topStudent.name}</strong> - GPA: ${topStudent.gpa} (${topStudent.getGradeStatus()})</p>
                    <p>‡∏™‡∏≤‡∏Ç‡∏≤: ${topStudent.major}</p>
                    
                    <h4>üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ:</h4>
                    <ul>
                        <li>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤: ${allStudents.length} ‡∏Ñ‡∏ô</li>
                        <li>GPA ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${avg.toFixed(2)}</li>
                        <li>‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å (‚â• 3.5): ${allStudents.filter(s => s.gpa >= 3.5).length} ‡∏Ñ‡∏ô</li>
                    </ul>
                </div>
            `;
            document.getElementById('objectResult').innerHTML = result;
        }
    </script>
</body>
</html>
